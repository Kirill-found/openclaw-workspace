# 2026-02-15

## Beflora Migration — ЗАВЕРШЕНО ✅

Полностью мигрировал beflora.ru с 4vps.su на Timeweb Cloud:
- **Старый сервер**: 185.76.242.32 — можно выключать
- **Новый сервер**: 85.239.40.160
- Ruby 3.1.4 (не 2.7.2 — несовместим с OpenSSL 3.0 на Ubuntu 24.04)
- PostgreSQL, Nginx, Unicorn
- DNS переключен, SSL установлен (до 16 мая 2026)
- Wildcard сертификат (*.beflora.ru) скопирован со старого сервера — истекает 28 марта 2026
- Данные идентичны: 65 заказов на обоих серверах

### ⚠️ Требует внимания
- Wildcard сертификат истекает 28.03.2026
- Для автопродления нужен API доступ к REG.RU (DNS challenge)
- Пока что — ручное продление через certbot

---

## Scoutly Rebrand — ЗАВЕРШЕНО ✅

Переименование Timly HR → Scoutly:
- Новый SVG логотип
- Все тексты "Timly HR" → "Scoutly"
- "10 min" → "8 min"
- Почта: hello@scoutly.ru
- Поддержка: @scoutly_support
- Фавикон обновлён
- Юридические страницы обновлены
- Исправлено удаление пользователей: `ALTER TABLE payments ALTER COLUMN user_id DROP NOT NULL`

---

## В работе: HH Account-based Analysis

Михаил (разработчик) попросил привязать результаты анализа к HH employer_id вместо user_id.
Это позволит нескольким пользователям одного HH-аккаунта видеть общую историю анализов.

Таблица `analysis_results`:
- id, application_id, score, skills_match, experience_match, salary_match
- strengths, weaknesses, red_flags, recommendation, reasoning
- ai_model, ai_tokens_used, ai_cost_rub, processing_time_ms, raw_result, created_at

Нужно добавить employer_id и изменить логику запросов.

---

## Стоимость

Оценил миграцию Beflora в 2500₽ (на фрилансе 5-10k за такую сложность).

---

## Brave Search API — В ПРОЦЕССЕ

Кирилл дал API ключ для Brave Search: `BSAV0RjsmfOMrqOUJi2F5AubfEXQWqB`
- План: Search ($5/1000 запросов), не Answers — уже есть Opus для резюмирования
- Конфиг: `tools.web.search.apiKey` + `provider: "brave"` + `enabled: true`
- Путь: `/Users/karavan/.openclaw/openclaw.json`

Надо применить патч через gateway config.patch.

---

## Динамический выбор модели — НАСТРОЕНО ✅

Добавил правило в AGENTS.md:
- **База**: Opus 4.5 (90% задач, экономичнее)
- **Тяжёлое**: spawn субагента на Opus 4.6
- **Серия сложных**: переключить сессию на 4.6

Opus 4.6 = 1M контекст + 128K output, но ~1.7x дороже на практике.

---

## Изучил практики sereja.tech

Кирилл попросил изучить 9 статей с блога sereja.tech и внедрить практики:

1. **Личная корпорация** — event-driven архитектура для агентов
2. **Superpowers** — brainstorming → design → plan → execute (не сразу код!)
3. **Auto Memory** — память между сессиями
4. **Экономия контекста** — правило двух фейлов, конкретные промпты
5. **Agent Teams** — параллельная работа агентов
6. **Правка → Правило** — каждая ошибка = новое правило
7. **Skills** — переносимый опыт между проектами
8. **Хуки** — 15 секунд на захват внимания (Curiosity Gap, Identity, Tension)
9. **HTML для изображений** — Playwright вместо Figma для серийных картинок

Сохранил в `memory/sereja-tech-practices.md`  
Обновил AGENTS.md и SOUL.md для постоянного применения.
