# Le Nez Implementation Guide
### –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## üö® –ü—Ä–æ–±–ª–µ–º–∞
–ò–ò —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã–¥–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä—Ñ—é–º—ã –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∞—É—Ç—Ñ–∏—Ç–∞—Ö/–∞—Ç–º–æ—Å—Ñ–µ—Ä–µ —Ñ–æ—Ç–æ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–º–Ω–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ –∞—Ä–æ–º–∞—Ç–æ–≤.

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. **PhotoAnalysisService.swift** - –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ
- **–¶–µ–ª—å:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ñ–æ—Ç–æ
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–æ–º–∏–Ω–∞–Ω—Ç–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä—ã (—Ç–µ–ø–ª–∞—è/—Ö–æ–ª–æ–¥–Ω–∞—è/—è—Ä–∫–∞—è)
  - –ê–Ω–∞–ª–∏–∑ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã (—Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è/–∑–∞–≥–∞–¥–æ—á–Ω–∞—è/—ç–Ω–µ—Ä–≥–∏—á–Ω–∞—è)
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–Ω—è –∏ —Å–µ–∑–æ–Ω–∞
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI Vision API

```swift
// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
let analysis = try await photoAnalysisService.analyzePhoto(userImage)
print(analysis.atmosphere) // .sophisticated
print(analysis.colorPalette.fragranceCategories) // ["amber", "vanilla", "wood"]
```

### 2. **SmartRecommendationEngine.swift** - –£–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞
- **–¶–µ–ª—å:** –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏:**
  - **–ê–Ω—Ç–∏-–ø–æ–≤—Ç–æ—Ä:** –ò—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–¥–∞–≤–Ω–æ –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–µ –∞—Ä–æ–º–∞—Ç—ã
  - **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ:** –ü–æ–æ—â—Ä—è–µ—Ç –Ω–æ–≤—ã–µ –±—Ä–µ–Ω–¥—ã –∏ —Å–∫—Ä—ã—Ç—ã–µ –∂–µ–º—á—É–∂–∏–Ω—ã
  - **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:** –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ò–∑ 70–∫ –∞—Ä–æ–º–∞—Ç–æ–≤ –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ

```swift
// –ü—Ä–∏–º–µ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
let criteria = RecommendationCriteria(
    analysis: visualAnalysis,
    userPreferences: userPrefs,
    excludeRecent: true,        // ‚Üê –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø–æ–≤—Ç–æ—Ä–æ–≤
    diversityBoost: true        // ‚Üê –î–æ–±–∞–≤–ª—è–µ—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ
)

let result = try await recommendationEngine.generateRecommendation(from: criteria)
```

### 3. **FragranceDatabase.swift** - –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π 70k –∞—Ä–æ–º–∞—Ç–æ–≤
- **–¶–µ–ª—å:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –ø–∞—Ä—Å–∏—Ç CSV —Å Fragrantica
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ü–∞—Ä—Å–∏–Ω–≥ CSV —Å 70,000 –∞—Ä–æ–º–∞—Ç–æ–≤
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ—Ç –∏–∑ –æ–ø–∏—Å–∞–Ω–∏–π
  - –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ UI –º–æ–¥–µ–ª–∏

### 4. **LeNezAppIntegration.swift** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å UI
- **–¶–µ–ª—å:** –°–≤—è–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º UI
- **–í–∫–ª—é—á–∞–µ—Ç:**
  - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –∫–∞–º–µ—Ä–æ–π

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –≤ Xcode –ø—Ä–æ–µ–∫—Ç
```
LeNez/
‚îú‚îÄ‚îÄ Services/
‚îÇ   ‚îú‚îÄ‚îÄ PhotoAnalysisService.swift
‚îÇ   ‚îú‚îÄ‚îÄ SmartRecommendationEngine.swift
‚îÇ   ‚îî‚îÄ‚îÄ FragranceDatabase.swift
‚îú‚îÄ‚îÄ Views/
‚îÇ   ‚îî‚îÄ‚îÄ LeNezAppIntegration.swift
‚îî‚îÄ‚îÄ Data/
    ‚îî‚îÄ‚îÄ fra_perfumes.csv  (–ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–∑ fragrantica/data/)
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```swift
// –í Xcode: Package Dependencies
// –î–æ–±–∞–≤–∏—Ç—å OpenAI API wrapper –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å URLSession
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á
```swift
// –í PhotoAnalysisService.swift
private let openAIKey = "your-openai-key" // –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ secure storage
```

### 4. –û–±–Ω–æ–≤–∏—Ç—å Info.plist
```xml
<key>NSCameraUsageDescription</key>
<string>Le Nez analyzes your photos to recommend perfect fragrances</string>
```

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É

### ‚ùå –ë—ã–ª–æ:
```swift
// –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
vibeTitle: "Forest Elegance"
perfume: Perfume(brandName: "Amouage", name: "Epic Man")
```

### ‚úÖ –°—Ç–∞–ª–æ:
```swift
// –£–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º
1. –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ ‚Üí —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ + –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞
2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è 70k –∞—Ä–æ–º–∞—Ç–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º  
3. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–¥–∞–≤–Ω–æ –ø–æ–∫–∞–∑–∞–Ω–Ω—ã—Ö (recentRecommendations)
4. –í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å –∏–∑ —Ç–æ–ø-5 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –≤–∞–π–±–∞
```

### üß† –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è:
- **–¢—Ä–µ–∫–∏–Ω–≥ –∏—Å—Ç–æ—Ä–∏–∏:** –ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- **–ë–æ–Ω—É—Å –∑–∞ –Ω–æ–≤—ã–µ –±—Ä–µ–Ω–¥—ã:** +15% –∫ —Å–∫–æ—Ä—É
- **–°–∫—Ä—ã—Ç—ã–µ –∂–µ–º—á—É–∂–∏–Ω—ã:** +10% –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö, –Ω–æ –º–∞–ª–æ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∞—Ä–æ–º–∞—Ç–æ–≤
- **–í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å:** –¢–æ–ø-5 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤, –Ω–µ –≤—Å–µ–≥–¥–∞ #1

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:
- **0% –ø–æ–≤—Ç–æ—Ä–æ–≤** –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 20 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö
- **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –±—Ä–µ–Ω–¥–æ–≤:** –ù–µ –±–æ–ª–µ–µ 2 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ–¥—Ä—è–¥ –æ—Ç –æ–¥–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞
- **–ö–∞—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–∏–Ω–≥–∞:** –°–≤—è–∑—å –º–µ–∂–¥—É —Ñ–æ—Ç–æ –∏ –∞—Ä–æ–º–∞—Ç–æ–º
- **User satisfaction:** A/B —Ç–µ—Å—Ç –ø—Ä–æ—Ç–∏–≤ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
1. **–§–æ—Ç–æ:** –î–µ–≤—É—à–∫–∞ –≤ –∫–æ–∂–∞–Ω–æ–π –∫—É—Ä—Ç–∫–µ, –≤–µ—á–µ—Ä–Ω–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
2. **–ê–Ω–∞–ª–∏–∑:** –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ = edgy, –ø–∞–ª–∏—Ç—Ä–∞ = cool, –≤—Ä–µ–º—è = evening
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ê—Ä–æ–º–∞—Ç—ã —Å –Ω–æ—Ç–∞–º–∏ black pepper, leather, metal + –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å strong
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Tom Ford Black Orchid (–µ—Å–ª–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –Ω–µ–¥–∞–≤–Ω–æ)
5. **–°–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑:** –î—Ä—É–≥–æ–π –∞—Ä–æ–º–∞—Ç —Å –ø–æ—Ö–æ–∂–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏

---

## üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –§–∞–∑–∞ 2:
- **–û–±—É—á–µ–Ω–∏–µ:** –õ–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Seasonal intelligence:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≥–æ–¥–∞
- **Context awareness:** –í—Ä–µ–º—è —Å—É—Ç–æ–∫, —Å–æ–±—ã—Ç–∏–µ (—Ä–∞–±–æ—Ç–∞/—Å–≤–∏–¥–∞–Ω–∏–µ)

### –§–∞–∑–∞ 3:
- **Custom ML –º–æ–¥–µ–ª—å:** –ó–∞–º–µ–Ω–∞ OpenAI –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å
- **Social features:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Ç –¥—Ä—É–∑–µ–π
- **Affiliate integration:** –ü–æ–∫—É–ø–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–æ–º–∞—Ç–æ–≤

---

## üõ† –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

1. **–î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã** –≤ Xcode –ø—Ä–æ–µ–∫—Ç
2. **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å fra_perfumes.csv** –≤ bundle
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å OpenAI API –∫–ª—é—á**
4. **–ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–π PerfumeAppView** –Ω–∞ LeNezAppUpdated
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ç–æ

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç Le Nez –∏–∑ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–º–æ –≤ —É–º–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º –ò–ò! üéØ